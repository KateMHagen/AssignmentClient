<h1>Books</h1>
    <p *ngIf="!books"><em>Loading...</em></p>
    <table mat-table [dataSource]="books"
        class="table table-striped"
        [hidden]="!books"
    >
        <!-- Book ID -->
        <ng-container matColumnDef="Id">
            <th mat-header-cell *matHeaderCellDef>ID</th>
            <td mat-cell *matCellDef="let book">{{book.id}}</td>
        </ng-container>

        <!-- Title  -->
        <ng-container matColumnDef="Title">
            <th mat-header-cell *matHeaderCellDef>Title</th>
            <td mat-cell *matCellDef="let book"><a [routerLink]="['/bookEdit',book.id]">{{book.title}}</a></td>
        </ng-container>

        <!-- Author -->
        <ng-container matColumnDef="Author">
            <th mat-header-cell *matHeaderCellDef>Author</th>
            <td mat-cell *matCellDef="let book">{{book.author}}</td>
        </ng-container>

        <!-- Description -->
        <ng-container matColumnDef="Description">
            <th mat-header-cell *matHeaderCellDef>Description</th>
            <td mat-cell *matCellDef="let book"><div>
                {{ showFullDescription[book.id] ? book.description : (book.description | slice:0:150) + (book.description.length > 150 ? '...' : '') }}
                <button (click)="toggleDescription(book.id)" class="show-more">
                  {{ showFullDescription[book.id] ? 'Show Less...' : 'Show More...' }}
                </button>
              </div></td>
        </ng-container>

        <!-- Pages -->
        <ng-container matColumnDef="Pages">
            <th mat-header-cell *matHeaderCellDef>Pages</th>
            <td mat-cell *matCellDef="let book">{{book.pages}}</td>
        </ng-container>

        <!-- Rating -->
        <ng-container matColumnDef="Rating">
            <th mat-header-cell *matHeaderCellDef>Rating</th>
            <td mat-cell *matCellDef="let book">{{book.rating}}</td>
        </ng-container>

        <!-- Publisher ID -->
        <ng-container matColumnDef="Publisher Id">
            <th mat-header-cell *matHeaderCellDef>Publisher Id</th>
            <td mat-cell *matCellDef="let book">{{book.publisherId}}</td>
        </ng-container>

        <!-- Publisher -->
        <ng-container matColumnDef="Publisher">
            <th mat-header-cell *matHeaderCellDef>Publisher</th>
            <td mat-cell *matCellDef="let book">{{book.publisher.name}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        
    </table>
    
    
    <mat-paginator [hidden]="!books"
            (page)="getBooks($event)"
            [pageSize]="10"
            [pageSizeOptions]="[10, 20, 50]"
            showFirstLastButtons
    ></mat-paginator>
    

        
          




